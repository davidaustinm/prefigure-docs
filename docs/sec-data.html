<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr" data-legacy-colorscheme="ruby_turquoise">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: default-legacy                 *-->
<!--*  Palette:                              *-->
<!--******************************************-->
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Working with data</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;" rel="stylesheet">
<link href="_static/pretext/css/theme.css" rel="stylesheet" type="text/css">
<link href="_static/pretext/css/ol-markers.css" rel="stylesheet" type="text/css">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math"
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "_static/pretext/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="PreFigure Authorâ€™s Guide">
<meta property="book:author" content="David Austin">
<script src="_static/pretext/js/lib/jquery.min.js"></script><script src="_static/pretext/js/lib/jquery.sticky.js"></script><script src="_static/pretext/js/lib/jquery.espy.min.js"></script><script src="_static/pretext/js/pretext.js"></script><script src="_static/pretext/js/pretext_add_on.js?x=1"></script><script src="_static/pretext/js/user_preferences.js"></script><!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '7.8.4';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script src="_static/prefix-runtime.962d00926ef9460e.bundle.js"></script><script src="_static/prefix-723.3e6434f80549315a.bundle.js"></script><script src="_static/prefix-runestone.2e7f40e86ae7d163.bundle.js"></script><link rel="stylesheet" type="text/css" href="_static/prefix-723.3bccd435914aa0ff.css">
<link rel="stylesheet" type="text/css" href="_static/prefix-runestone.5bdeacdba067a0e3.css">
<script src="_static/pretext/js/diagcess/diagcess.js"></script><link rel="icon" type="image/png" sizes="32x32" href="external/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="external/favicon/favicon-16x16.png">
<script src="_static/pretext/js/lti_iframe_resizer.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-dubtf8xMHSQlExGRQ5R7toxHLgSDZ0K7AunqPWHXmJQ8XyVIG19S1T95gBxlAeGOK02P4Da2RTnQz0Za0H0ebQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.js" integrity="sha512-93uCmm0q+qO5Lb1huDqr7tywS8A2TFA+1/WHvyiWaK6/pvsFl6USnILagntBx8JnVbQH5s3n0vQZY6xNthNfKA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.css" integrity="sha512-nXlJLUeqPMp1Q3+Bd8Qds8tXeRVQscMscwysJm821C++9w6WtsFbJjPenZ8cQVMXyqSAismveQJc0C1splFDCA==" crossorigin="anonymous" referrerpolicy="no-referrer">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="_static/pretext/js/pretext_search.js"></script><script src="_static/pretext/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script>
</head>
<body id="prefigure" class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" target="_blank" href="https://prefigure.org"><img src="external/images/logo.png" alt="Logo image"></a><div class="title-container">
<h1 class="heading"><a href="pr-guide.html"><span class="title">PreFigure Authorâ€™s Guide</span></a></h1>
<p class="byline">David Austin</p>
</div>
</div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><div class="ptx-navbar-contents">
<button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"></span><span class="treebuttons"><a class="previous-button button" href="sec-shapes.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="chap-graphical.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="chap-project.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span>
</div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\yvec}{\mathbf y}
\newcommand{\twovec}[2]{\left[\begin{array}{r}#1 \\ #2
\end{array}\right]}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2"><ul class="structural toc-item-list contains-active">
<li class="toc-item toc-frontmatter"><div class="toc-title-box"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-introduction.html" class="internal"><span class="codenumber">1</span> <span class="title">Introduction</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-example.html" class="internal"><span class="codenumber">1.1</span> <span class="title">An example diagram</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-accessibility.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Accessibility</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-gallery.html" class="internal"><span class="codenumber">1.3</span> <span class="title">A gallery of diagrams</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-installation.html" class="internal"><span class="codenumber">1.4</span> <span class="title">Installation and use</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-start.html" class="internal"><span class="codenumber">2</span> <span class="title">Getting Started</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-diagram.html" class="internal"><span class="codenumber">2.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;diagram&gt;</code>element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-coordinates.html" class="internal"><span class="codenumber">2.2</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;coordinates&gt;</code> element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-definition.html" class="internal"><span class="codenumber">2.3</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;definition&gt;</code> element and user namespace</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter contains-active">
<div class="toc-title-box"><a href="chap-graphical.html" class="internal"><span class="codenumber">3</span> <span class="title">Graphical components</span></a></div>
<ul class="structural toc-item-list contains-active">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-graphical-attr.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Stroke, fill, and other graphical attributes</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#subsec-colors" class="internal"><span class="codenumber">3.1.1</span> <span class="title">Colors</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#subsec-stroke-attributes" class="internal"><span class="codenumber">3.1.2</span> <span class="title">Stroke attributes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#sec-graphical-attr-5" class="internal"><span class="codenumber">3.1.3</span> <span class="title">Fill attributes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#sec-graphical-attr-6" class="internal"><span class="codenumber">3.1.4</span> <span class="title">Handles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-outlining.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Outlining and <code class="code-inline tex2jax_ignore">&lt;group&gt;</code>s</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-outlining.html#sec-outlining-3" class="internal"><span class="codenumber">3.2.1</span> <span class="title">Outlining</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-outlining.html#sec-outlining-4" class="internal"><span class="codenumber">3.2.2</span> <span class="title">Groups</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-grid-axes.html" class="internal"><span class="codenumber">3.3</span> <span class="title">Grid and Axes</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-grid-axes" class="internal"><span class="codenumber">3.3.1</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;grid-axes&gt;</code></span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-grid" class="internal"><span class="codenumber">3.3.2</span> <span class="title">Grids</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-axes" class="internal"><span class="codenumber">3.3.3</span> <span class="title">Axes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#sec-grid-axes-6" class="internal"><span class="codenumber">3.3.4</span> <span class="title">Tick marks</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-labels.html" class="internal"><span class="codenumber">3.4</span> <span class="title">Labels</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-labels.html#sec-labels-3" class="internal"><span class="codenumber">3.4.1</span> <span class="title">Creating labels</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-labels.html#sec-labels-4" class="internal"><span class="codenumber">3.4.2</span> <span class="title">Legends</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-simple.html" class="internal"><span class="codenumber">3.5</span> <span class="title">Points, lines, and polygons</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-points" class="internal"><span class="codenumber">3.5.1</span> <span class="title">Points</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-4" class="internal"><span class="codenumber">3.5.2</span> <span class="title">Lines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-vectors" class="internal"><span class="codenumber">3.5.3</span> <span class="title">Vectors</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-6" class="internal"><span class="codenumber">3.5.4</span> <span class="title">Polygons</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-splines" class="internal"><span class="codenumber">3.5.5</span> <span class="title">Splines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-8" class="internal"><span class="codenumber">3.5.6</span> <span class="title">Triangles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-circles.html" class="internal"><span class="codenumber">3.6</span> <span class="title">Circles, ellipses, and rectangles</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#subsec-circles" class="internal"><span class="codenumber">3.6.1</span> <span class="title">Circles</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-4" class="internal"><span class="codenumber">3.6.2</span> <span class="title">Arcs</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-5" class="internal"><span class="codenumber">3.6.3</span> <span class="title">Angle markers</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-6" class="internal"><span class="codenumber">3.6.4</span> <span class="title">Rectangles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-calculus.html" class="internal"><span class="codenumber">3.7</span> <span class="title">Calculus components</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#subsec-graph" class="internal"><span class="codenumber">3.7.1</span> <span class="title">Graphs and tangent lines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-4" class="internal"><span class="codenumber">3.7.2</span> <span class="title">Parametric curves</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-5" class="internal"><span class="codenumber">3.7.3</span> <span class="title">Implicit curves</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-6" class="internal"><span class="codenumber">3.7.4</span> <span class="title">Areas</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-7" class="internal"><span class="codenumber">3.7.5</span> <span class="title">Riemann sums</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-8" class="internal"><span class="codenumber">3.7.6</span> <span class="title">Polar coordinates</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-diffeqs.html" class="internal"><span class="codenumber">3.8</span> <span class="title">Differential equations</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-slope-field" class="internal"><span class="codenumber">3.8.1</span> <span class="title">Slope Fields</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-de-solutions" class="internal"><span class="codenumber">3.8.2</span> <span class="title">Solutions to differential equations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#sec-diffeqs-5" class="internal"><span class="codenumber">3.8.3</span> <span class="title">Discontinuities</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-delta" class="internal"><span class="codenumber">3.8.4</span> <span class="title">Delta functions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-euler" class="internal"><span class="codenumber">3.8.5</span> <span class="title">Eulerâ€™s method</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-networks.html" class="internal"><span class="codenumber">3.9</span> <span class="title">Networks</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-3" class="internal"><span class="codenumber">3.9.1</span> <span class="title">Getting started</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-4" class="internal"><span class="codenumber">3.9.2</span> <span class="title">A more verbose network</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-5" class="internal"><span class="codenumber">3.9.3</span> <span class="title">Positioning the nodes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-6" class="internal"><span class="codenumber">3.9.4</span> <span class="title">Putting everything together</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-7" class="internal"><span class="codenumber">3.9.5</span> <span class="title">Annotating networks</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-paths.html" class="internal"><span class="codenumber">3.10</span> <span class="title">Paths</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-paths.html#sec-paths-3" class="internal"><span class="codenumber">3.10.1</span> <span class="title">Defining paths</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-paths.html#sec-paths-4" class="internal"><span class="codenumber">3.10.2</span> <span class="title">Decorations</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-shapes.html" class="internal"><span class="codenumber">3.11</span> <span class="title">Shape constructions and clipping</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-3" class="internal"><span class="codenumber">3.11.1</span> <span class="title">Defining shapes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-4" class="internal"><span class="codenumber">3.11.2</span> <span class="title">Shape Constructions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-5" class="internal"><span class="codenumber">3.11.3</span> <span class="title">Clipping</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section contains-active">
<div class="toc-title-box"><a href="sec-data.html" class="internal"><span class="codenumber">3.12</span> <span class="title">Working with data</span></a></div>
<ul class="structural toc-item-list active">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-3" class="internal"><span class="codenumber">3.12.1</span> <span class="title">Reading an external file</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-4" class="internal"><span class="codenumber">3.12.2</span> <span class="title">Scatter plots</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-5" class="internal"><span class="codenumber">3.12.3</span> <span class="title">Histograms</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-6" class="internal"><span class="codenumber">3.12.4</span> <span class="title">Plotting a trajectory</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-7" class="internal"><span class="codenumber">3.12.5</span> <span class="title">Log plots</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-project.html" class="internal"><span class="codenumber">4</span> <span class="title">Managing a PreFigure project</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-publication.html" class="internal"><span class="codenumber">4.1</span> <span class="title">The publication file</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-pretext.html" class="internal"><span class="codenumber">4.2</span> <span class="title">Authoring diagrams within PreTeXt</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-next-steps.html" class="internal"><span class="codenumber">5</span> <span class="title">Next steps</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-repeat.html" class="internal"><span class="codenumber">5.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-arrows.html" class="internal"><span class="codenumber">5.2</span> <span class="title">Arrows</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-transforms.html" class="internal"><span class="codenumber">5.3</span> <span class="title">Transforms</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-transforms.html#subsec-transforms" class="internal"><span class="codenumber">5.3.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;transform&gt;</code> element</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-transforms.html#subsec-group-transform" class="internal"><span class="codenumber">5.3.2</span> <span class="title">Transforming a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code></span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-math.html" class="internal"><span class="codenumber">5.4</span> <span class="title">Mathematical operations</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-3" class="internal"><span class="codenumber">5.4.1</span> <span class="title">Math operations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-4" class="internal"><span class="codenumber">5.4.2</span> <span class="title">Intersections</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-5" class="internal"><span class="codenumber">5.4.3</span> <span class="title">Vector operations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-6" class="internal"><span class="codenumber">5.4.4</span> <span class="title">List operations</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-accessibility.html" class="internal"><span class="codenumber">6</span> <span class="title">Accessibility</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-annotations.html" class="internal"><span class="codenumber">6.1</span> <span class="title">Annotating a diagram</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-3" class="internal"><span class="codenumber">6.1.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">diagcess</code> library</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-4" class="internal"><span class="codenumber">6.1.2</span> <span class="title">The annotation tree</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-5" class="internal"><span class="codenumber">6.1.3</span> <span class="title">Annotations within repeat elements</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-tactile.html" class="internal"><span class="codenumber">6.2</span> <span class="title">Tactile diagrams</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#sec-tactile-3" class="internal"><span class="codenumber">6.2.1</span> <span class="title">Anatomy of a tactile diagram</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#sec-tactile-4" class="internal"><span class="codenumber">6.2.2</span> <span class="title">PreFigure considerations for tactile diagrams</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#subsec-tactile-captions" class="internal"><span class="codenumber">6.2.3</span> <span class="title">Captions in tactile diagrams</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter"><div class="toc-title-box"><a href="chap-examples.html" class="internal"><span class="codenumber">7</span> <span class="title">Examples with source</span></a></div></li>
<li class="toc-item toc-backmatter"><div class="toc-title-box"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="sec-data"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">3.12</span><span class="space"> </span><span class="title">Working with data</span>
</h2>
<section class="introduction" id="sec-data-2"><div class="para" id="sec-data-2-1">It is possible to read in an external file and access its content from within a PreFigure source file.  This can be used to create, for example, some common statistical diagrams, such as scatter plots and histograms.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-2-1" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></section><section class="subsection" id="sec-data-3"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.12.1</span><span class="space"> </span><span class="title">Reading an external file</span>
</h3>
<div class="para logical" id="sec-data-3-2">
<div class="para">The <code class="code-inline tex2jax_ignore">&lt;read&gt;</code> element is used for reading in an external file.  The name of the file needs to be supplied with the <code class="code-inline tex2jax_ignore">@filename</code> attribute, and the contents can later be referenced with the <code class="code-inline tex2jax_ignore">@name</code> attribute.  Here are some additional attributes</div>
<dl class="description-list">
<dt id="sec-data-3-2-4-1">type<div class="autopermalink" data-description="Item: type"><a href="#sec-data-3-2-4-1" title="Copy heading and permalink for Item: type">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-2-4-1-2">This describes the type of file to be read.  At present, the only possible file type is CSV though additional file types are expected to be added.  The default is therefore <code class="code-inline tex2jax_ignore">@type="csv"</code>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-2-4-1-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
<dt id="sec-data-3-2-4-2">delimiter<div class="autopermalink" data-description="Item: delimiter"><a href="#sec-data-3-2-4-2" title="Copy heading and permalink for Item: delimiter">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-2-4-2-2">For reading a CSV, the value of this attribute defines the fileâ€™s delimiter.  By default, the delimiter is a single comma.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-2-4-2-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
<dt id="sec-data-3-2-4-3">quotechar<div class="autopermalink" data-description="Item: quotechar"><a href="#sec-data-3-2-4-3" title="Copy heading and permalink for Item: quotechar">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-2-4-3-2">The value of this attribute tells the CVS reader what character to view as quotation marks, whose enclosed content is read as a single entry. By default, the delimiter is a single quote.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-2-4-3-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
<dt id="sec-data-3-2-4-4">string-columns<div class="autopermalink" data-description="Item: string-columns"><a href="#sec-data-3-2-4-4" title="Copy heading and permalink for Item: string-columns">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-2-4-4-2">When reading a CSV file, the value of this parameter can be a list of headers in the file whose columns should be interpreted as strings rather than numbers.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-2-4-4-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
</dl>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<article class="assemblage assemblage-like" id="sec-data-3-3"><div class="para" id="sec-data-3-3-1">Note that this feature is not yet implemented in PreTeXt, but it will be soon.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-3-1" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Assemblage"><a href="#sec-data-3-3" title="Copy heading and permalink for Assemblage">ğŸ”—</a></div></article><div class="para" id="sec-data-3-4">In the simplest case, PreFigure looks for the file in the file structure relative to the current PreFigure source.  This can be modified using an <code class="code-inline tex2jax_ignore">&lt;external-root&gt;</code> element in a PreFigure publication file.  If this element has the attribute <code class="code-inline tex2jax_ignore">@name="/home/data"</code>, and the <code class="code-inline tex2jax_ignore">&lt;read&gt;</code> element has <code class="code-inline tex2jax_ignore">@name="input.csv"</code>, then PreFigure will expect the file to be located at <code class="code-inline tex2jax_ignore">/home/data/input.csv</code>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-4" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-3-5">Inside a PreTeXt document, the <code class="code-inline tex2jax_ignore">&lt;external-root&gt;</code> element should be included in the <code class="code-inline tex2jax_ignore">&lt;prefigure-preamble&gt;</code> element inside <code class="code-inline tex2jax_ignore">&lt;docinfo&gt;</code>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-5" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-3-6">PreFigure expects CSV files to have some structure.  In particular, the first line of the file will be interpreted as headers for the columns.  If first line is <code class="code-inline tex2jax_ignore">0,1,2</code>, then the headers will be referenced later as â€œ0â€, â€œ1â€, and â€œ2â€.  It is then assumed that each subsequent row has at least as many entries as headers.  If a header appears in the list defined by the <code class="code-inline tex2jax_ignore">@string-columns</code> attribute, then the entries in that column are interpreted as strings.  Otherwise, they are interpreted as numerical data.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-6" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para logical" id="sec-data-3-7">
<div class="para">A well-known dataset contains measurements of 150 irises along with the species they belong to.  The first two lines of the file are</div>
<pre class="code-display tex2jax_ignore">  sepal length,sepal width,petal length,petal width,species
  5.1,3.5,1.4,0.2,Iris-setosa
</pre>
<div class="para">The element <code class="code-inline tex2jax_ignore">&lt;read name="data" filename="iris.csv"&gt;</code> will read this file with the results later referenced as <code class="code-inline tex2jax_ignore">data</code>.  For instance, <code class="code-inline tex2jax_ignore">data['sepal length']</code> contains the list of sepal lengths of 150 irises.  <code class="code-inline tex2jax_ignore">data['species']</code> contains a list of the species each flower belongs to.  You may notice that we did not need to specify that the last column consists of strings since this is automatically detected by PreFigure.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-7" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para logical" id="sec-data-3-8">
<div class="para">There are two useful operations.</div>
<dl class="description-list">
<dt id="sec-data-3-8-1-1">filter<div class="autopermalink" data-description="Item: filter"><a href="#sec-data-3-8-1-1" title="Copy heading and permalink for Item: filter">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-8-1-1-2">The <code class="code-inline tex2jax_ignore">filter</code> function can be used to trim a column of the dataset by some criterion.  For instance, <code class="code-inline tex2jax_ignore">filter(df['sepal length', 'species', 'Iris-setosa'])</code> returns a list of the sepal lengths of the flowers whose <code class="code-inline tex2jax_ignore">species</code> attribute is â€œIris-setosaâ€.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-8-1-1-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
<dt id="sec-data-3-8-1-2">zip_lists<div class="autopermalink" data-description="Item: zip_lists"><a href="#sec-data-3-8-1-2" title="Copy heading and permalink for Item: zip_lists">ğŸ”—</a></div>
</dt>
<dd><div class="para" id="sec-data-3-8-1-2-2">If we have two lists with the same number of entries, this function returns a list of points whose entries come from the two lists.  For instance, <code class="code-inline tex2jax_ignore">zip_lists(df['sepal length'], df['sepal width'])</code> will be a list of 150 points whose first entry is the sepal length and whose second is the sepal width of each flower.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-8-1-2-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></dd>
</dl>
<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-8" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-3-9">Next we will see some things we can do with data like this.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-3-9" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Subsection 3.12.1: Reading an external file"><a href="#sec-data-3" title="Copy heading and permalink for Subsection 3.12.1: Reading an external file">ğŸ”—</a></div></section><section class="subsection" id="sec-data-4"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.12.2</span><span class="space"> </span><span class="title">Scatter plots</span>
</h3>
<div class="para" id="sec-data-4-2">We can create scatter plots in PreFigure.  Of course, we donâ€™t need to use data that is loaded from an external source, but that might be the most common use case.  This is demonstrated in <a href="sec-data.html#diagram-scatter-plot-1" class="xref" data-knowl="./knowl/xref/diagram-scatter-plot-1.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.1">FigureÂ 3.12.1</a>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-scatter-plot-1"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;">
        <img src="external/images/iris_scatter_1.svg" role="img" class="contained">
      </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.1<span class="period">.</span></span><span class="space"> </span>A scatter plot built from the source in <a href="sec-data.html#listing-scatter-plot-1" class="xref" data-knowl="./knowl/xref/listing-scatter-plot-1.html" data-reveal-label="Reveal" data-close-label="Close" title="Listing 3.12.2: The PreFigure source for FigureÂ 3.12.1.">ListingÂ 3.12.2</a>.<div class="autopermalink" data-description="Figure 3.12.1"><a href="#diagram-scatter-plot-1" title="Copy heading and permalink for Figure 3.12.1">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-scatter-plot-1"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.2<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.1.<div class="autopermalink" data-description="Listing 3.12.2: The PreFigure source for FigureÂ 3.12.1."><a href="#listing-scatter-plot-1" title="Copy heading and permalink for Listing 3.12.2: The PreFigure source for FigureÂ 3.12.1.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram xmlns="https://prefigure.org"
         dimensions="(300,300)"
         margins="(30,30,5,5)"&gt;
  &lt;read name="df" filename="iris.data"
        string-columns="['species']"/&gt;
  &lt;definition&gt;x=filter(df, 'sepal length', 'species', 'Iris-versicolor')&lt;/definition&gt;
  &lt;definition&gt;y=filter(df, 'petal width', 'species', 'Iris-versicolor')&lt;/definition&gt;
  &lt;definition&gt;points=zip_lists(x, y)&lt;/definition&gt;
  
  &lt;coordinates bbox="(4,0,9,3)"&gt;
    &lt;grid-axes&gt;
      &lt;xlabel alignment="nw"&gt;Sepal length&lt;/xlabel&gt;
      &lt;ylabel alignment="se"&gt;Petal width&lt;/ylabel&gt;
    &lt;/grid-axes&gt;

    &lt;scatter points="points" fill="blue"/&gt;

  &lt;/coordinates&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="para" id="sec-data-4-5">Notice that we read the data using a <code class="code-inline tex2jax_ignore">&lt;read&gt;</code> element and then form a set of points using the <code class="code-inline tex2jax_ignore">filter</code> and <code class="code-inline tex2jax_ignore">zip_lists</code> functions.  These points are given to the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element through the <code class="code-inline tex2jax_ignore">@name</code> attribute.  Each point will be plotted using a <code class="code-inline tex2jax_ignore">&lt;point&gt;</code> element, which is internally created using attributes supplied by the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element.  In this example, the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element simply defined the fill of those points to be â€œblueâ€.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-5" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-4-6">As a convenience, the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element offers a more direct way to build scatter plots directly from the data source. This is demonstrated in <a href="sec-data.html#diagram-scatter-plot-2" class="xref" data-knowl="./knowl/xref/diagram-scatter-plot-2.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.3">FigureÂ 3.12.3</a>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-6" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-scatter-plot-2"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;">
        <img src="external/images/iris_scatter.svg" role="img" class="contained">
      </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.3<span class="period">.</span></span><span class="space"> </span>A scatter plot built from the source in <a href="sec-data.html#listing-scatter-plot-2" class="xref" data-knowl="./knowl/xref/listing-scatter-plot-2.html" data-reveal-label="Reveal" data-close-label="Close" title="Listing 3.12.4: The PreFigure source for FigureÂ 3.12.3.">ListingÂ 3.12.4</a>.<div class="autopermalink" data-description="Figure 3.12.3"><a href="#diagram-scatter-plot-2" title="Copy heading and permalink for Figure 3.12.3">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-scatter-plot-2"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.4<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.3.<div class="autopermalink" data-description="Listing 3.12.4: The PreFigure source for FigureÂ 3.12.3."><a href="#listing-scatter-plot-2" title="Copy heading and permalink for Listing 3.12.4: The PreFigure source for FigureÂ 3.12.3.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram xmlns="https://prefigure.org"
         dimensions="(400,300)"
         margins="(30,30,5,5)"&gt;
  &lt;read name="df" filename="iris.data"
        string-columns="['species']"/&gt;
  &lt;coordinates bbox="(4,0,9,3)"&gt;
    &lt;grid-axes&gt;
      &lt;xlabel alignment="nw"&gt;Sepal length&lt;/xlabel&gt;
      &lt;ylabel alignment="se"&gt;Petal width&lt;/ylabel&gt;
    &lt;/grid-axes&gt;

    &lt;scatter at="setosa" data="df"
             x="sepal length" y="petal width"
             filter="('species','Iris-setosa')"
             fill="blue"
             annotate="yes" text="Data from 50 Iris setosas"
             point-text="An iris setosa"/&gt;

    &lt;scatter at="versicolor" data="df"
             x="sepal length" y="petal width"
             filter="('species','Iris-versicolor')"
             fill="red" style="box" size="4"
             annotate="yes" text="Data from 50 Iris versicolor"
             point-text="An iris versicolor"/&gt;

    &lt;scatter at="virginica" data="df"
             x="sepal length" y="petal width"
             filter="('species','Iris-virginica')"
             fill="green" style="diamond" size="4"
             annotate="yes" text="Data from 50 Iris virginica"
             point-text="An iris virginica"/&gt;

    &lt;legend anchor="(bbox[2],0.3)"
            alignment="nw" opacity="0.9"&gt;
      &lt;item ref="setosa-point"&gt;Iris-setosa&lt;/item&gt;
      &lt;item ref="versicolor-point"&gt;Iris-versicolor&lt;/item&gt;
      &lt;item ref="virginica-point"&gt;Iris-virginica&lt;/item&gt;
    &lt;/legend&gt;

  &lt;/coordinates&gt;

  &lt;annotations&gt;
    &lt;annotation ref="figure"
                text="Scatter plot of the iris data set"&gt;
      &lt;annotation ref="setosa"/&gt;
      &lt;annotation ref="versicolor"/&gt;
      &lt;annotation ref="virginica"/&gt;
    &lt;/annotation&gt;
  &lt;/annotations&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="para" id="sec-data-4-9">Notice that the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element has an attribute <code class="code-inline tex2jax_ignore">@data</code> that points to the dataset read in earlier.  We then state the headers of the columns of the data set that we intend to plot using the <code class="code-inline tex2jax_ignore">@x</code> and <code class="code-inline tex2jax_ignore">@y</code> attributes. An optional <code class="code-inline tex2jax_ignore">@filter</code> attribute can be supplied to filter the data, which is then zipped together internally.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-9" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-4-10">This example also demonstrates a few more features, some of which we will explore in more detail later.  For now, notice that the <code class="code-inline tex2jax_ignore">&lt;legend&gt;</code> needs the handle of a point.  The handle of the second <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element is â€œversicolorâ€ so the handle of the points created by PreFigure are â€œversicolor-pointâ€;  that is â€œ-pointâ€ is appended to the handle of the <code class="code-inline tex2jax_ignore">&lt;scatter&gt;</code> element.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-10" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-4-11">Each scatter plot is annotated by setting <code class="code-inline tex2jax_ignore">@annotate="yes"</code>, specifying the text for the group using <code class="code-inline tex2jax_ignore">@text</code>, and declaring the text for each point using <code class="code-inline tex2jax_ignore">@point-text</code>.  More details about annotating a group of objects like this is included in <a href="sec-annotations.html" class="internal" title="Section 6.1: Annotating a diagram">SectionÂ 6.1</a>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-4-11" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Subsection 3.12.2: Scatter plots"><a href="#sec-data-4" title="Copy heading and permalink for Subsection 3.12.2: Scatter plots">ğŸ”—</a></div></section><section class="subsection" id="sec-data-5"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.12.3</span><span class="space"> </span><span class="title">Histograms</span>
</h3>
<div class="para" id="sec-data-5-2">The <code class="code-inline tex2jax_ignore">&lt;histogram&gt;</code> element is used to create histograms as demonstrated in <a href="sec-data.html#diagram-histogram" class="xref" data-knowl="./knowl/xref/diagram-histogram.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.5">FigureÂ 3.12.5</a>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-5-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-histogram"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;">
        <img src="external/images/iris_histogram.svg" role="img" class="contained">
      </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.5<span class="period">.</span></span><span class="space"> </span>A histogram built from the source in <a href="sec-data.html#listing-histogram" class="xref" data-knowl="./knowl/xref/listing-histogram.html" data-reveal-label="Reveal" data-close-label="Close" title="Listing 3.12.6: The PreFigure source for FigureÂ 3.12.5.">ListingÂ 3.12.6</a>.<div class="autopermalink" data-description="Figure 3.12.5"><a href="#diagram-histogram" title="Copy heading and permalink for Figure 3.12.5">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-histogram"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.6<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.5.<div class="autopermalink" data-description="Listing 3.12.6: The PreFigure source for FigureÂ 3.12.5."><a href="#listing-histogram" title="Copy heading and permalink for Listing 3.12.6: The PreFigure source for FigureÂ 3.12.5.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram xmlns="https://prefigure.org"
         dimensions="(400,300)"
         margins="(30,30,5,5)"&gt;
  &lt;read name="df" filename="iris.data"
        string-columns="['species']"/&gt;
  &lt;coordinates bbox="(3,0,9,25)"&gt;
    &lt;grid-axes&gt;
      &lt;ylabel alignment="se"&gt;Sepal length&lt;/ylabel&gt;
    &lt;/grid-axes&gt;

    &lt;histogram at="histogram" data="df['sepal length']" outline="tactile"
               min="4" max="9" bins="20"
               fill="lightskyblue" stroke="black"
               annotate="yes"
               text="The histogram with 20 bins"
               bin-text="A bin from ${__histogram_x[bin_num]}"/&gt;

  &lt;/coordinates&gt;

  &lt;annotations&gt;
    &lt;annotation ref="figure"
                text="A histogram of irises with 30 bins grouped by sepal length"&gt;
      &lt;annotation ref="histogram"/&gt;
    &lt;/annotation&gt;
  &lt;/annotations&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="para" id="sec-data-5-5">Notice that the histogram is defined through a <code class="code-inline tex2jax_ignore">@data</code> attribute, which is one column of the dataset, along with the attributes <code class="code-inline tex2jax_ignore">@min</code>, <code class="code-inline tex2jax_ignore">@max</code>, and <code class="code-inline tex2jax_ignore">@bins</code>, which is the number of bins.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-5-5" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-5-6">Once again, some more advanced annotation features are demonstrated.  There are two lists created internally, <code class="code-inline tex2jax_ignore">__histogram_x</code> and <code class="code-inline tex2jax_ignore">__histogram_y</code>, that describe the upper-left corner of each bar.  There is a parameter <code class="code-inline tex2jax_ignore">bin_num</code> that iterates through each bin and that can be used for annotating.  Another quantity <code class="code-inline tex2jax_ignore">delta_x</code> is also defined as the width of the bins.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-5-6" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="sec-data-5-7">The handle of a bar created by the <code class="code-inline tex2jax_ignore">&lt;histogram&gt;</code> is â€œ-binâ€ appended to the handle of the <code class="code-inline tex2jax_ignore">&lt;histogram&gt;</code>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-5-7" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="autopermalink" data-description="Subsection 3.12.3: Histograms"><a href="#sec-data-5" title="Copy heading and permalink for Subsection 3.12.3: Histograms">ğŸ”—</a></div></section><section class="subsection" id="sec-data-6"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.12.4</span><span class="space"> </span><span class="title">Plotting a trajectory</span>
</h3>
<div class="para" id="sec-data-6-2">There may be times when one generates data in some way and then wants to plot it.  Perhaps you have solved a differential equation using a specialized or novel technique and saved the results in a CSV file.  <a href="sec-data.html#diagram-gragg" class="xref" data-knowl="./knowl/xref/diagram-gragg.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.7">FigureÂ 3.12.7</a> illustrates a solution to the three-body problem found using an adaptive method.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-6-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-gragg"><div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;">
        <img src="external/images/gragg.svg" role="img" class="contained">
      </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.7<span class="period">.</span></span><span class="space"> </span>Plotting the solution to a differential equation solved externally.<div class="autopermalink" data-description="Figure 3.12.7"><a href="#diagram-gragg" title="Copy heading and permalink for Figure 3.12.7">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-gragg"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.8<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.7.<div class="autopermalink" data-description="Listing 3.12.8: The PreFigure source for FigureÂ 3.12.7."><a href="#listing-gragg" title="Copy heading and permalink for Listing 3.12.8: The PreFigure source for FigureÂ 3.12.7.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram dimensions="(300,300)" margins="5"&gt;
  &lt;read filename="gragg_data.csv" name="data" delimiter=' '/&gt;
  &lt;definition&gt;x = data['x']&lt;/definition&gt;
  &lt;definition&gt;y = data['y']&lt;/definition&gt;
  &lt;definition&gt;points=zip_lists(x,y)&lt;/definition&gt;
  &lt;coordinates bbox="(-15,-8,15,8)"&gt;
    &lt;grid-axes xlabel="x" ylabel="y"/&gt;
    &lt;polygon points="points" stroke="blue"/&gt;
  &lt;/coordinates&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="autopermalink" data-description="Subsection 3.12.4: Plotting a trajectory"><a href="#sec-data-6" title="Copy heading and permalink for Subsection 3.12.4: Plotting a trajectory">ğŸ”—</a></div></section><section class="subsection" id="sec-data-7"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.12.5</span><span class="space"> </span><span class="title">Log plots</span>
</h3>
<div class="para" id="sec-data-7-2">Some diagrams are best expressed using a logarithmic scale on one or both axes.  One may do this by adding the attribute <code class="code-inline tex2jax_ignore">@scales</code> to a <code class="code-inline tex2jax_ignore">&lt;coordinates&gt;</code> element defining a bounding box.  Possible values are <code class="code-inline tex2jax_ignore">@scales="linear", "semilogx", "semilogy", "loglog"</code>. This is demonstrated in <a href="sec-data.html#diagram-log-log" class="xref" data-knowl="./knowl/xref/diagram-log-log.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.9">FigureÂ 3.12.9</a>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-7-2" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-log-log"><div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="generated/prefigure/prefigure-log-log.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.9<span class="period">.</span></span><span class="space"> </span>A log-log plot made by setting <code class="code-inline tex2jax_ignore">@scales="loglog"</code> on the <code class="code-inline tex2jax_ignore">&lt;coordinates&gt;</code> element<div class="autopermalink" data-description="Figure 3.12.9"><a href="#diagram-log-log" title="Copy heading and permalink for Figure 3.12.9">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-log-log"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.10<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.9.<div class="autopermalink" data-description="Listing 3.12.10: The PreFigure source for FigureÂ 3.12.9."><a href="#listing-log-log" title="Copy heading and permalink for Listing 3.12.10: The PreFigure source for FigureÂ 3.12.9.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram dimensions="(300,300)" margins="(40,40,5,5)"&gt;
  &lt;definition&gt;a=10&lt;/definition&gt;
  &lt;definition&gt;f(x) = x^2&lt;/definition&gt;
  &lt;coordinates bbox="(10^-2,10^-2,10^3, 10^5)" scales="loglog"&gt;
    &lt;grid-axes xlabel="x" ylabel="y"/&gt;
    &lt;graph function="f"/&gt;
    &lt;point p="(a,f(a))" alignment="se"&gt;
      &lt;m&gt;P&lt;/m&gt;
    &lt;/point&gt;
  &lt;/coordinates&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="para" id="sec-data-7-5">As seen in <a href="sec-data.html#listing-log-log" class="xref" data-knowl="./knowl/xref/listing-log-log.html" data-reveal-label="Reveal" data-close-label="Close" title="Listing 3.12.10: The PreFigure source for FigureÂ 3.12.9.">ListingÂ 3.12.10</a>, PreFigure generates default grid spacings and label positions.  This behavior can be modified using the attributes described in <a href="sec-grid-axes.html#subsec-grid" class="internal" title="Subsection 3.3.2: Grids">SubsectionÂ 3.3.2</a>, with one difference.  With a linear scale, the spacing of grid lines is described with a triple <code class="code-inline tex2jax_ignore">(start, space, end)</code>.  If using a logarithmic scale, the middle quantity should be the number of grid lines per decade, as shown in <a href="sec-data.html#diagram-log-log-spacing" class="xref" data-knowl="./knowl/xref/diagram-log-log-spacing.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 3.12.11">FigureÂ 3.12.11</a>.  Possible values are <code class="code-inline tex2jax_ignore">1/n, 1, 2, 5, 10</code>.<div class="autopermalink" data-description="Paragraph"><a href="#sec-data-7-5" title="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<figure class="figure figure-like" id="diagram-log-log-spacing"><div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="generated/prefigure/prefigure-log-log-spacing.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.12.11<span class="period">.</span></span><span class="space"> </span>Setting the spacing on grid lines and labels on a log-log plot<div class="autopermalink" data-description="Figure 3.12.11"><a href="#diagram-log-log-spacing" title="Copy heading and permalink for Figure 3.12.11">ğŸ”—</a></div></figcaption></figure><figure class="listing figure-like" id="listing-log-log-spacing"><figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">3.12.12<span class="period">.</span></span><span class="space"> </span>The PreFigure source for FigureÂ 3.12.11.<div class="autopermalink" data-description="Listing 3.12.12: The PreFigure source for FigureÂ 3.12.11."><a href="#listing-log-log-spacing" title="Copy heading and permalink for Listing 3.12.12: The PreFigure source for FigureÂ 3.12.11.">ğŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram dimensions="(300,300)" margins="(40,40,5,5)"&gt;
  &lt;coordinates bbox="(10^-1,10^-2,10^1, 10^14)" scales="loglog"&gt;
    &lt;grid-axes xlabel="x" ylabel="y"
               spacings="((10^-1,10,10^1),(10^-2,1/2,10^14))"
               vlabels="(10^0,1/2,10^12)"/&gt;
  &lt;/coordinates&gt;
&lt;/diagram&gt;
</code></pre></div></div></figure><div class="autopermalink" data-description="Subsection 3.12.5: Log plots"><a href="#sec-data-7" title="Copy heading and permalink for Subsection 3.12.5: Log plots">ğŸ”—</a></div></section><div class="autopermalink" data-description="Section 3.12: Working with data"><a href="#sec-data" title="Copy heading and permalink for Section 3.12: Working with data">ğŸ”—</a></div></section></div>
<div id="ptx-content-footer" class="ptx-content-footer">
<a class="previous-button button" href="sec-shapes.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="chap-project.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="338 3000 8772 6866" role="img"><title>PreTeXt logo</title><g style="stroke-width:.025in; stroke:currentColor; fill:none"><polyline points="472,3590 472,9732 " style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png" alt="Runstone Academy logo"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png" alt="MathJax logo"></a>
</div>
<script>diagcess.Base.init()</script>
</body>
</html>
