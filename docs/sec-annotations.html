<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr" data-legacy-colorscheme="ruby_turquoise">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Annotating a diagram</title>
<link xmlns:xlink="http://www.w3.org/1999/xlink" rel="preconnect" href="https://fonts.googleapis.com">
<link xmlns:xlink="http://www.w3.org/1999/xlink" rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link xmlns:xlink="http://www.w3.org/1999/xlink" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;" rel="stylesheet">
<link href="_static/pretext/css/theme.css" rel="stylesheet" type="text/css">
<link xmlns:xlink="http://www.w3.org/1999/xlink" href="_static/pretext/css/ol-markers.css" rel="stylesheet" type="text/css">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math"
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "_static/pretext/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns:xlink="http://www.w3.org/1999/xlink" property="og:type" content="book">
<meta xmlns:xlink="http://www.w3.org/1999/xlink" property="book:title" content="PreFigure Author’s Guide">
<meta xmlns:xlink="http://www.w3.org/1999/xlink" property="book:author" content="David Austin">
<script src="_static/pretext/js/lib/jquery.min.js"></script><script src="_static/pretext/js/lib/jquery.sticky.js"></script><script src="_static/pretext/js/lib/jquery.espy.min.js"></script><script src="_static/pretext/js/pretext.js"></script><script src="_static/pretext/js/pretext_add_on.js?x=1"></script><script src="_static/pretext/js/user_preferences.js"></script><!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '7.6.3';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script src="_static/prefix-runtime.1dbf799015a9933a.bundle.js"></script><script src="_static/prefix-723.3e6434f80549315a.bundle.js"></script><script src="_static/prefix-runestone.253ff4af1e53e55f.bundle.js"></script><link rel="stylesheet" type="text/css" href="_static/prefix-723.3bccd435914aa0ff.css">
<link rel="stylesheet" type="text/css" href="_static/prefix-runestone.541c9106f2c605b9.css">
<script src="_static/pretext/js/diagcess/diagcess.js"></script><link rel="icon" type="image/png" sizes="32x32" href="external/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="external/favicon/favicon-16x16.png">
<script xmlns:xlink="http://www.w3.org/1999/xlink" src="_static/pretext/js/lti_iframe_resizer.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-dubtf8xMHSQlExGRQ5R7toxHLgSDZ0K7AunqPWHXmJQ8XyVIG19S1T95gBxlAeGOK02P4Da2RTnQz0Za0H0ebQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.js" integrity="sha512-93uCmm0q+qO5Lb1huDqr7tywS8A2TFA+1/WHvyiWaK6/pvsFl6USnILagntBx8JnVbQH5s3n0vQZY6xNthNfKA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.css" integrity="sha512-nXlJLUeqPMp1Q3+Bd8Qds8tXeRVQscMscwysJm821C++9w6WtsFbJjPenZ8cQVMXyqSAismveQJc0C1splFDCA==" crossorigin="anonymous" referrerpolicy="no-referrer">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="_static/pretext/js/pretext_search.js"></script><script src="_static/pretext/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script>
</head>
<body id="prefigure" class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" target="_blank" href="https://prefigure.org"><img src="external/images/logo.png" alt="Logo image"></a><div class="title-container">
<h1 class="heading"><a href="pr-guide.html"><span class="title">PreFigure Author’s Guide</span></a></h1>
<p class="byline">David Austin</p>
</div>
</div></header><nav xmlns:xlink="http://www.w3.org/1999/xlink" id="ptx-navbar" class="ptx-navbar navbar"><div class="ptx-navbar-contents">
<button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"></span><span class="treebuttons"><a class="previous-button button" href="chap-accessibility.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="chap-accessibility.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="sec-tactile.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span>
</div></nav><div xmlns:xlink="http://www.w3.org/1999/xlink" id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\yvec}{\mathbf y}
\newcommand{\twovec}[2]{\left[\begin{array}{r}#1 \\ #2
\end{array}\right]}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div xmlns:xlink="http://www.w3.org/1999/xlink" id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2"><ul class="structural toc-item-list contains-active">
<li class="toc-item toc-frontmatter"><div class="toc-title-box"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-introduction.html" class="internal"><span class="codenumber">1</span> <span class="title">Introduction</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-example.html" class="internal"><span class="codenumber">1.1</span> <span class="title">An example diagram</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-accessibility.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Accessibility</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-gallery.html" class="internal"><span class="codenumber">1.3</span> <span class="title">A gallery of diagrams</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-installation.html" class="internal"><span class="codenumber">1.4</span> <span class="title">Installation and use</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-start.html" class="internal"><span class="codenumber">2</span> <span class="title">Getting Started</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-diagram.html" class="internal"><span class="codenumber">2.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;diagram&gt;</code>element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-coordinates.html" class="internal"><span class="codenumber">2.2</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;coordinates&gt;</code> element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-definition.html" class="internal"><span class="codenumber">2.3</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;definition&gt;</code> element and user namespace</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-graphical.html" class="internal"><span class="codenumber">3</span> <span class="title">Graphical components</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-graphical-attr.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Stroke, fill, and other graphical attributes</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#subsec-colors" class="internal"><span class="codenumber">3.1.1</span> <span class="title">Colors</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#subsec-stroke-attributes" class="internal"><span class="codenumber">3.1.2</span> <span class="title">Stroke attributes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#sec-graphical-attr-5" class="internal"><span class="codenumber">3.1.3</span> <span class="title">Fill attributes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-graphical-attr.html#sec-graphical-attr-6" class="internal"><span class="codenumber">3.1.4</span> <span class="title">Handles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-outlining.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Outlining and <code class="code-inline tex2jax_ignore">&lt;group&gt;</code>s</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-outlining.html#sec-outlining-3" class="internal"><span class="codenumber">3.2.1</span> <span class="title">Outlining</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-outlining.html#sec-outlining-4" class="internal"><span class="codenumber">3.2.2</span> <span class="title">Groups</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-grid-axes.html" class="internal"><span class="codenumber">3.3</span> <span class="title">Grid and Axes</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-grid-axes" class="internal"><span class="codenumber">3.3.1</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;grid-axes&gt;</code></span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-grid" class="internal"><span class="codenumber">3.3.2</span> <span class="title">Grids</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-grid-axes.html#subsec-axes" class="internal"><span class="codenumber">3.3.3</span> <span class="title">Axes</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-labels.html" class="internal"><span class="codenumber">3.4</span> <span class="title">Labels</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-labels.html#sec-labels-3" class="internal"><span class="codenumber">3.4.1</span> <span class="title">Creating labels</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-labels.html#sec-labels-4" class="internal"><span class="codenumber">3.4.2</span> <span class="title">Legends</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-simple.html" class="internal"><span class="codenumber">3.5</span> <span class="title">Points, lines, and polygons</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-points" class="internal"><span class="codenumber">3.5.1</span> <span class="title">Points</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-4" class="internal"><span class="codenumber">3.5.2</span> <span class="title">Lines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-vectors" class="internal"><span class="codenumber">3.5.3</span> <span class="title">Vectors</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-6" class="internal"><span class="codenumber">3.5.4</span> <span class="title">Polygons</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#subsec-splines" class="internal"><span class="codenumber">3.5.5</span> <span class="title">Splines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-simple.html#sec-simple-8" class="internal"><span class="codenumber">3.5.6</span> <span class="title">Triangles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-circles.html" class="internal"><span class="codenumber">3.6</span> <span class="title">Circles, ellipses, and rectangles</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#subsec-circles" class="internal"><span class="codenumber">3.6.1</span> <span class="title">Circles</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-4" class="internal"><span class="codenumber">3.6.2</span> <span class="title">Arcs</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-5" class="internal"><span class="codenumber">3.6.3</span> <span class="title">Angle markers</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-circles.html#sec-circles-6" class="internal"><span class="codenumber">3.6.4</span> <span class="title">Rectangles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-calculus.html" class="internal"><span class="codenumber">3.7</span> <span class="title">Calculus components</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#subsec-graph" class="internal"><span class="codenumber">3.7.1</span> <span class="title">Graphs and tangent lines</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-4" class="internal"><span class="codenumber">3.7.2</span> <span class="title">Parametric curves</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-5" class="internal"><span class="codenumber">3.7.3</span> <span class="title">Implicit curves</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-6" class="internal"><span class="codenumber">3.7.4</span> <span class="title">Areas</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-calculus.html#sec-calculus-7" class="internal"><span class="codenumber">3.7.5</span> <span class="title">Riemann sums</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-diffeqs.html" class="internal"><span class="codenumber">3.8</span> <span class="title">Differential equations</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-slope-field" class="internal"><span class="codenumber">3.8.1</span> <span class="title">Slope Fields</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-de-solutions" class="internal"><span class="codenumber">3.8.2</span> <span class="title">Solutions to differential equations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#sec-diffeqs-5" class="internal"><span class="codenumber">3.8.3</span> <span class="title">Discontinuities</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-delta" class="internal"><span class="codenumber">3.8.4</span> <span class="title">Delta functions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-diffeqs.html#subsec-euler" class="internal"><span class="codenumber">3.8.5</span> <span class="title">Euler’s method</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-networks.html" class="internal"><span class="codenumber">3.9</span> <span class="title">Networks</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-3" class="internal"><span class="codenumber">3.9.1</span> <span class="title">Getting started</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-4" class="internal"><span class="codenumber">3.9.2</span> <span class="title">A more verbose network</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-5" class="internal"><span class="codenumber">3.9.3</span> <span class="title">Positioning the nodes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-6" class="internal"><span class="codenumber">3.9.4</span> <span class="title">Putting everything together</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-networks.html#sec-networks-7" class="internal"><span class="codenumber">3.9.5</span> <span class="title">Annotating networks</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-paths.html" class="internal"><span class="codenumber">3.10</span> <span class="title">Paths</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-paths.html#sec-paths-3" class="internal"><span class="codenumber">3.10.1</span> <span class="title">Defining paths</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-paths.html#sec-paths-4" class="internal"><span class="codenumber">3.10.2</span> <span class="title">Decorations</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-shapes.html" class="internal"><span class="codenumber">3.11</span> <span class="title">Shape constructions and clipping</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-3" class="internal"><span class="codenumber">3.11.1</span> <span class="title">Defining shapes</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-4" class="internal"><span class="codenumber">3.11.2</span> <span class="title">Shape Constructions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-shapes.html#sec-shapes-5" class="internal"><span class="codenumber">3.11.3</span> <span class="title">Clipping</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-data.html" class="internal"><span class="codenumber">3.12</span> <span class="title">Working with data</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-3" class="internal"><span class="codenumber">3.12.1</span> <span class="title">Reading an external file</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-4" class="internal"><span class="codenumber">3.12.2</span> <span class="title">Scatter plots</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-5" class="internal"><span class="codenumber">3.12.3</span> <span class="title">Histograms</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-data.html#sec-data-6" class="internal"><span class="codenumber">3.12.4</span> <span class="title">Plotting a trajectory</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-project.html" class="internal"><span class="codenumber">4</span> <span class="title">Managing a PreFigure project</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-publication.html" class="internal"><span class="codenumber">4.1</span> <span class="title">The publication file</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-pretext.html" class="internal"><span class="codenumber">4.2</span> <span class="title">Authoring diagrams within PreTeXt</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="chap-next-steps.html" class="internal"><span class="codenumber">5</span> <span class="title">Next steps</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-repeat.html" class="internal"><span class="codenumber">5.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-arrows.html" class="internal"><span class="codenumber">5.2</span> <span class="title">Arrows</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-transforms.html" class="internal"><span class="codenumber">5.3</span> <span class="title">Transforms</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-transforms.html#subsec-transforms" class="internal"><span class="codenumber">5.3.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">&lt;transform&gt;</code> element</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-transforms.html#subsec-group-transform" class="internal"><span class="codenumber">5.3.2</span> <span class="title">Transforming a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code></span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-math.html" class="internal"><span class="codenumber">5.4</span> <span class="title">Mathematical operations</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-3" class="internal"><span class="codenumber">5.4.1</span> <span class="title">Math operations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-4" class="internal"><span class="codenumber">5.4.2</span> <span class="title">Vector operations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-math.html#sec-math-5" class="internal"><span class="codenumber">5.4.3</span> <span class="title">List operations</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter contains-active">
<div class="toc-title-box"><a href="chap-accessibility.html" class="internal"><span class="codenumber">6</span> <span class="title">Accessibility</span></a></div>
<ul class="structural toc-item-list contains-active">
<li class="toc-item toc-section contains-active">
<div class="toc-title-box"><a href="sec-annotations.html" class="internal"><span class="codenumber">6.1</span> <span class="title">Annotating a diagram</span></a></div>
<ul class="structural toc-item-list active">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-3" class="internal"><span class="codenumber">6.1.1</span> <span class="title">The <code class="code-inline tex2jax_ignore">diagcess</code> library</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-4" class="internal"><span class="codenumber">6.1.2</span> <span class="title">The annotation tree</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-annotations.html#sec-annotations-5" class="internal"><span class="codenumber">6.1.3</span> <span class="title">Annotations within repeat elements</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-tactile.html" class="internal"><span class="codenumber">6.2</span> <span class="title">Tactile diagrams</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#sec-tactile-3" class="internal"><span class="codenumber">6.2.1</span> <span class="title">Anatomy of a tactile diagram</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#sec-tactile-4" class="internal"><span class="codenumber">6.2.2</span> <span class="title">PreFigure considerations for tactile diagrams</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-tactile.html#subsec-tactile-captions" class="internal"><span class="codenumber">6.2.3</span> <span class="title">Captions in tactile diagrams</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-backmatter"><div class="toc-title-box"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section xmlns:xlink="http://www.w3.org/1999/xlink" class="section" id="sec-annotations"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">6.1</span><span class="space"> </span><span class="title">Annotating a diagram</span>
</h2>
<section class="introduction" id="sec-annotations-2"><div class="para" id="sec-annotations-2-1">As we saw in <a href="sec-accessibility.html" class="internal" title="Section 1.2: Accessibility">Section 1.2</a>, authors can include annotations within their PreFigure source that describe how a reader will explore the diagram using the <code class="code-inline tex2jax_ignore">diagcess</code> library.</div></section><section class="subsection" id="sec-annotations-3"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">6.1.1</span><span class="space"> </span><span class="title">The <code class="code-inline tex2jax_ignore">diagcess</code> library</span>
</h3>
<div class="para" id="sec-annotations-3-2">Since annotations will be read by the <code class="code-inline tex2jax_ignore">diagcess</code> library, let’s take a moment to consider how a reader will interact with the annotations in a diagram.  As we will see momentarily, the annotations will essentially form what mathematicians call a tree. That is, there is a top-level description of the entire diagram with the ability to explore various components in greater detail. Readers will navigate this tree using the arrow keys.  The Down arrow requests more details on the component currently being explored while the Right arrow asks for the next detail of the current component.  When an arrow key is pressed, a beep called an “earcon” notifies the reader that there are no more details available at that level.</div>
<div class="para" id="sec-annotations-3-3">The two most common key presses are “O”, which will sonify an element if the author has enabled this feature, and “X”, which toggles expert mode, about which more will be said later.</div>
<div class="para" id="sec-annotations-3-4">When designing annotations, an author is well served by considering their audience.  For instance, many blind readers are fairly experienced navigating an HTML page with a screenreader. The <code class="code-inline tex2jax_ignore">diagcess</code> library provides screenreading capabilities for included PreFigure diagrams.  As an author, how will you verbally describe the diagram succinctly and completely?  How will you organize the components of a diagram into groups that contribute to communicating the diagram’s intended meaning?  How will you explain the structure of such a group?</div>
<div class="para" id="sec-annotations-3-5">In addition, low-vision readers may not be able to interpret the meaning of a diagram in the same way that a sighted reader might.  However, the <code class="code-inline tex2jax_ignore">diagcess</code> library highlights the component currently being explored by zooming in on it and outlining it in yellow so that other elements move into the background.  In this way,  many low-vision readers can perceive the individual components of a diagram and how they fit together into a whole.</div>
<div class="para" id="sec-annotations-3-6">Even for sighted readers, annotations can provide more details about a diagram and call attention to specific components of the diagram so that their meaning is not overlooked.  Considering the needs of these different audiences can be a challenge but will inevitably lead to more effective diagrams.</div>
<div class="para" id="sec-annotations-3-7">While annotations are included in the same PreFigure source, their authoring is typically a separate process from creating the graphical content.  One reason for this is that graphical components lie on top of one another in the order in which they are added to the diagram.  For example, we usually want a point to lie on top of a line passing through that point so we will include the line and then the point when creating the graphical components.  However, when annotating the diagram, we may wish to call attention to the point first and then the line later. Keeping the annotations separate from the graphical content gives us more flexibilty in annotating a diagram.</div>
<div class="para" id="sec-annotations-3-8">Perhaps more importantly, however, experience shows that annotating a diagram really should feel like a separate process. When creating the graphical content, we may, for instance, add a line in a particular orientation so that it doesn’t overlap with another part of the diagram and stroke it with a particular color to create constrast with other elements.  When creating the annotations, we are thinking about the mathematical meaning of that line, why we have included it at all, and how it is related to the other elements in the diagram.  These are two different sets of questions, and authors are well served by addressing them separately.</div></section><section class="subsection" id="sec-annotations-4"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">6.1.2</span><span class="space"> </span><span class="title">The annotation tree</span>
</h3>
<div class="para" id="sec-annotations-4-2">To begin describing the annotation tree, let’s return to the example we considered in <a href="sec-accessibility.html" class="internal" title="Section 1.2: Accessibility">Section 1.2</a>, which is shown again, with annotations, in <a href="sec-definition.html#diagram-tangent-2" class="xref" data-knowl="./knowl/xref/diagram-tangent-2.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 2.3.1">Figure 2.3.1</a>.</div>
<figure class="figure figure-like" id="diagram-tangent-3"><div class="sidebyside"><div class="sbsrow" style="margin-left:20%;margin-right:20%;"><div class="sbspanel top" style="width:100%;"><img src="external/images/tangent-3.svg" role="img" class="contained"></div></div></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">6.1.1<span class="period">.</span></span><span class="space"> </span>A calculus diagram</figcaption></figure><figure class="listing figure-like" id="listing-tangent-3"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram dimensions="(300, 300)" margins="5"&gt;
  &lt;definition&gt; a=1 &lt;/definition&gt;
  &lt;definition&gt; f(x)=exp(x/3)*cos(x) &lt;/definition&gt;
  &lt;coordinates bbox="[-4,-4,4,4]"&gt;
    &lt;grid-axes xlabel="x" ylabel="y"/&gt;
    &lt;graph at="function" function="f"/&gt;
    &lt;tangent-line at="tangent" function="f" point="a"/&gt;
    &lt;group at="point"&gt;
      &lt;point p="(a, f(a))"/&gt;
      &lt;label anchor="(a,f(a))" alignment="ne"&gt;
	&lt;m&gt;(a,f(a))&lt;/m&gt;
      &lt;/label&gt;
    &lt;/group&gt;
  &lt;/coordinates&gt;

  &lt;annotations&gt;
    &lt;annotation ref="figure"
                text="The graph of a function and its tangent line at the point a equals 1"&gt;
      &lt;annotation ref="graph-tangent"
		  text="The graph and its tangent line"&gt;
        &lt;annotation ref="function"
		    text="The graph of the function f"
		    sonify="yes"/&gt;
        &lt;annotation ref="point"
		    text="The point a comma f of a"/&gt;
        &lt;annotation ref="tangent"
		    text="The tangent line to the graph of f at the point"
		    sonify="yes"
		    speech="This line is y equals f of a plus the derivative at a times the quantity x minus a"/&gt;
      &lt;/annotation&gt;
    &lt;/annotation&gt;
  &lt;/annotations&gt;

		
&lt;/diagram&gt;
</code></pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">6.1.2<span class="period">.</span></span><span class="space"> </span>The PreFigure source for <a href="sec-annotations.html#diagram-tangent-3" class="xref" data-knowl="./knowl/xref/diagram-tangent-3.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 6.1.1">Figure 6.1.1</a>.</figcaption></figure><div class="para logical" id="sec-annotations-4-5">
<div class="para">This example illustrates some important points.</div>
<ul class="disc" id="sec-annotations-4-5-1">
<li id="sec-annotations-4-5-1-1"><div class="para" id="sec-annotations-4-5-1-1-1">All the annotations are under a single <code class="code-inline tex2jax_ignore">&lt;annotations&gt;</code> element, and each nested <code class="code-inline tex2jax_ignore">&lt;annotation&gt;</code> element corresponds to a node in the annotations tree.</div></li>
<li id="sec-annotations-4-5-1-2"><div class="para" id="sec-annotations-4-5-1-2-1">There is a single top-level <code class="code-inline tex2jax_ignore">&lt;annotation&gt;</code> element, which has the attribute <code class="code-inline tex2jax_ignore">@ref="figure"</code>.  In general, the <code class="code-inline tex2jax_ignore">@ref</code> attribute should point to a handle in the tree of graphical components.  The handle <code class="code-inline tex2jax_ignore">"figure"</code> is implicit in the top-level <code class="code-inline tex2jax_ignore">&lt;diagram&gt;</code> element.  The <code class="code-inline tex2jax_ignore">@text</code> attribute gives a piece of text that will be displayed and vocalized when the focus goes to the diagram.  You may view this as alt-text for the entire diagram so it should be a concise, yet thorough, description of the diagram.</div></li>
<li id="sec-annotations-4-5-1-3"><div class="para" id="sec-annotations-4-5-1-3-1">The <code class="code-inline tex2jax_ignore">&lt;grid-axes&gt;</code> element does not have a handle or an associated annotation node, but a set of annotations for it will be automatically added to the annnotations tree, if such a tree is included in the PreFigure source.  There is a node for the <code class="code-inline tex2jax_ignore">&lt;grid-axes&gt;</code> and then two child nodes, one for the grid and one for the axes.</div></li>
<li id="sec-annotations-4-5-1-4"><div class="para" id="sec-annotations-4-5-1-4-1">The second node that is on the same level as the <code class="code-inline tex2jax_ignore">&lt;grid-axes&gt;</code> annotation has <code class="code-inline tex2jax_ignore">@ref="graph-tangent</code>.  In this case, there is no graphical component with this handle, which shows that the <code class="code-inline tex2jax_ignore">@ref</code> attribute need not point to a specific graphical component.  This annotation node, however, has children, each with a <code class="code-inline tex2jax_ignore">@ref</code> value that points to a graphical component.  Therefore, when the focus goes to the node with <code class="code-inline tex2jax_ignore">@ref="graph-tangent"</code>, all the components referenced by a child will be highlighted.</div></li>
<li id="sec-annotations-4-5-1-5"><div class="para" id="sec-annotations-4-5-1-5-1">When we descend from the node with <code class="code-inline tex2jax_ignore">@ref="graph-tangent"</code>, there are three children that point to the graph, the point, and the tangent line.  Notice that the node with attribute <code class="code-inline tex2jax_ignore">@ref="point"</code> refers to a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code> that includes both the point and the label. When the focus goes to this node, both of those components will be highlighted.  While this example illustrates the general behavior of a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code> referenced by an annotation, the same effect is produced by including a label inside the point as demonstrated in <a href="sec-simple.html" class="internal" title="Section 3.5: Points, lines, and polygons">Section 3.5</a>.</div></li>
<li id="sec-annotations-4-5-1-6"><div class="para" id="sec-annotations-4-5-1-6-1">The graph is sonified with <code class="code-inline tex2jax_ignore">@sonify="yes"</code>. When the focus goes to this node and the reader presses “O”, an aural rendering of the graph will be played.</div></li>
<li id="sec-annotations-4-5-1-7"><div class="para" id="sec-annotations-4-5-1-7-1">The node that points to the tangent line has a <code class="code-inline tex2jax_ignore">@speech</code> attribute, which has more details about the line.  When the reader presses “X”, then the value of this attribute replaces the value of the <code class="code-inline tex2jax_ignore">@text</code> attribute and is displayed and vocalized.</div></li>
<li id="sec-annotations-4-5-1-8"><div class="para" id="sec-annotations-4-5-1-8-1">While it is not included in this example, an <code class="code-inline tex2jax_ignore">&lt;annotation&gt;</code> element can have the attribute <code class="code-inline tex2jax_ignore">@circular="yes"</code>.  When exploring the children of such a node, the focus will return to the first child after we have explored the last child.</div></li>
</ul>
</div>
<div class="para" id="sec-annotations-4-6">Authors should note that everything that is visible is annotated and will, at some point, be highlighted.  This is a good practice that should generally be adopted.  Suppose, for instance, that the <code class="code-inline tex2jax_ignore">&lt;graph-axes&gt;</code> element is not annotated.  A low-vision reader may percevie the presence of these components without being provided an explanation of their purpose.</div>
<div class="para" id="sec-annotations-4-7">Also notice how the tree-like structure of the annotations allows a reader to delve into different features with increasing detail.  This allows the reader to skip over a branch of the tree, if desired, and go on to features that are of greater interest.</div></section><section class="subsection" id="sec-annotations-5"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">6.1.3</span><span class="space"> </span><span class="title">Annotations within repeat elements</span>
</h3>
<div class="para" id="sec-annotations-5-2">We said earlier that the process of creating annotations should generally be separate from the process of illustrating.  One exception to this is within a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element.</div>
<div class="para" id="sec-annotations-5-3">Suppose we have a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element with <code class="code-inline tex2jax_ignore">@parameter="k=5..7"</code> and inside this element is a <code class="code-inline tex2jax_ignore">&lt;point&gt;</code> with handle <code class="code-inline tex2jax_ignore">@at="point"</code>.  This will produce three points for each iteration of the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element, and these points will be given handles <code class="code-inline tex2jax_ignore">@at="point-k=5</code>, <code class="code-inline tex2jax_ignore">@at="point-k=6</code>, and <code class="code-inline tex2jax_ignore">@at="point-k=7</code>.  In this way, one could annotate these three points.</div>
<div class="para" id="sec-annotations-5-4">If a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element is instead meant to iterate over a list, the behavior is slightly different.  Suppose the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element is defined with <code class="code-inline tex2jax_ignore">@parameter="p in ((0,0),(1,2),(0,4))"</code> and that inside the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> there is a <code class="code-inline tex2jax_ignore">&lt;point&gt;</code> with handle <code class="code-inline tex2jax_ignore">@at="point"</code>. In this case, the times through the iteration are numbered so that the three resulting points have handles <code class="code-inline tex2jax_ignore">@at="point-p=0"</code>, <code class="code-inline tex2jax_ignore">@at="point-p=1"</code>, and <code class="code-inline tex2jax_ignore">@at="point-p=2"</code>.</div>
<div class="para" id="sec-annotations-5-5">More complicated uses of the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element, however, can make annotations tedious and difficult to maintain. For this reason, annotations can be added to graphical components and referenced from the annotation tree.  This can ease the process of annotating components inside a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code>, as seen in <a href="sec-annotations.html#diagram-repeat-annotate" class="xref" data-knowl="./knowl/xref/diagram-repeat-annotate.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 6.1.3">Figure 6.1.3</a>.</div>
<figure class="figure figure-like" id="diagram-repeat-annotate"><div class="sidebyside"><div class="sbsrow" style="margin-left:20%;margin-right:20%;"><div class="sbspanel top" style="width:100%;"><img src="external/images/repeat-annotate.svg" role="img" class="contained"></div></div></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">6.1.3<span class="period">.</span></span><span class="space"> </span>Annotating a diagram with a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element.</figcaption></figure><figure class="listing figure-like" id="listing-repeat-annotate"><div class="code-box"><pre class="program"><code class="language-none">&lt;diagram dimensions="(300,300)" margins="5"&gt;
  &lt;coordinates bbox="(-1,-1,5,5)"&gt;
    &lt;definition&gt;ordinals=['first', 'second', 'third', 'fourth', 'fifth']&lt;/definition&gt;
    &lt;grid at="grid"/&gt;
    &lt;repeat at="array" parameter="col=0..4"
            annotate="yes"
            text="The array of squares"&gt;
      &lt;repeat at="column" parameter="row=0..4-col"
              annotate="yes" circular="yes"
              text="A column of ${5-col} squares"&gt;
        &lt;rectangle at="square" center="(col, row)"
		   dimensions="(0.5,0.5)"
                   stroke="black" fill="green"
                   annotate="yes"
                   text="The ${ordinals[row]} square in the ${ordinals[col]} column"/&gt;
      &lt;/repeat&gt;
    &lt;/repeat&gt;
  &lt;/coordinates&gt;

  &lt;annotations&gt;
    &lt;annotation ref="figure"
                text="A triangular array of squares"&gt;
      &lt;annotation ref="grid"
                  text="A rectangular grid"/&gt;
      &lt;annotation ref="array"/&gt;
    &lt;/annotation&gt;
  &lt;/annotations&gt;
&lt;/diagram&gt;
</code></pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">6.1.4<span class="period">.</span></span><span class="space"> </span>The PreFigure source for <a href="sec-annotations.html#diagram-repeat-annotate" class="xref" data-knowl="./knowl/xref/diagram-repeat-annotate.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 6.1.3">Figure 6.1.3</a>.</figcaption></figure><div class="para logical" id="sec-annotations-5-8">
<div class="para">This leads to relatively simple and easy to maintain source if, say, we want to add or remove a column of squares.  Here is how this works:</div>
<ul class="disc" id="sec-annotations-5-8-1">
<li id="sec-annotations-5-8-1-1"><div class="para" id="sec-annotations-5-8-1-1-1">Notice that some elements are supplied with an attribute <code class="code-inline tex2jax_ignore">@annotate="yes"</code>.  When the graphical component is created, an <code class="code-inline tex2jax_ignore">&lt;annotation&gt;</code> is created that can be referenced using its handle.  The annotation attributes, such as <code class="code-inline tex2jax_ignore">@text</code> and <code class="code-inline tex2jax_ignore">@circular</code>, included in the graphical component are passed on to the resulting <code class="code-inline tex2jax_ignore">&lt;annotation&gt;</code>.</div></li>
<li id="sec-annotations-5-8-1-2"><div class="para" id="sec-annotations-5-8-1-2-1">In this case, the two <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> elements are both given this attrbute along with the child <code class="code-inline tex2jax_ignore">&lt;rectangle&gt;</code> element.  Behind the scenes, the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element creates a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code> with the resulting components added. Annotating the <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element is therefore the same as annotating a <code class="code-inline tex2jax_ignore">&lt;group&gt;</code> as we saw above.</div></li>
<li id="sec-annotations-5-8-1-3"><div class="para" id="sec-annotations-5-8-1-3-1">Notice how the <code class="code-inline tex2jax_ignore">@text</code> attributes can respond to the different values of the parameters by including pieces of text inside <code class="code-inline tex2jax_ignore">${...}</code>, which are then evaluted in the current namespace.</div></li>
<li id="sec-annotations-5-8-1-4"><div class="para" id="sec-annotations-5-8-1-4-1">The resulting annotations naturally inherit the tree-like structure from the graphical components that define them.  We can therefore reference this entire sub-tree by simply referring to the handle <code class="code-inline tex2jax_ignore">@ref="array"</code> of the top-level node.</div></li>
<li id="sec-annotations-5-8-1-5"><div class="para" id="sec-annotations-5-8-1-5-1">This example illustrates the use of the <code class="code-inline tex2jax_ignore">@circular</code> attribute.  Once we have examined all the squares in a column, we return to the first one and begin anew.</div></li>
</ul>
</div>
<div class="para" id="sec-annotations-5-9">While any graphical component can be annotated in this way, this feature is included primarily as a way to ease the annotation of diagrams created with a <code class="code-inline tex2jax_ignore">&lt;repeat&gt;</code> element.  As mentioned earlier, we encourage authors to separate the processes of illustrating and annotating.</div></section></section></div>
<div class="ptx-content-footer">
<a class="previous-button button" href="chap-accessibility.html" title="Previous"><span xmlns:xlink="http://www.w3.org/1999/xlink" class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span xmlns:xlink="http://www.w3.org/1999/xlink" class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="sec-tactile.html" title="Next"><span class="name">Next</span><span xmlns:xlink="http://www.w3.org/1999/xlink" class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a xmlns:xlink="http://www.w3.org/1999/xlink" class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="338 3000 8772 6866" role="img"><title>PreTeXt logo</title><g style="stroke-width:.025in; stroke:currentColor; fill:none"><polyline points="472,3590 472,9732 " style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a xmlns:xlink="http://www.w3.org/1999/xlink" class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png" alt="Runstone Academy logo"></a><a xmlns:xlink="http://www.w3.org/1999/xlink" class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png" alt="MathJax logo"></a>
</div>
<script>diagcess.Base.init()</script>
</body>
</html>
